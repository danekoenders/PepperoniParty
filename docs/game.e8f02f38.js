function e(e,t,i,s){Object.defineProperty(e,t,{get:i,set:s,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},r={},n=i.parcelRequired566;null==n&&((n=function(e){if(e in s)return s[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return s[e]=i,t.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},i.parcelRequired566=n),n.register("27Lyk",(function(t,i){var s,r;e(t.exports,"register",(()=>s),(e=>s=e)),e(t.exports,"resolve",(()=>r),(e=>r=e));var n={};s=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)n[t[i]]=e[t[i]]},r=function(e){var t=n[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),n("27Lyk").register(JSON.parse('{"8W0FK":"game.e8f02f38.js","gGqPL":"pizza.324cd459.png","kTOot":"bgm.248cd6e4.mp3","9TvWv":"sauce.49e5da68.png","frur7":"chuckecheese.82ff617e.png","i4AI5":"onion.1ad2485a.png","ho1LV":"tomatensaus.a55210d1.png","kM9ZK":"game.6b079b01.js"}'));var d,o=n("31xg4");d=new URL(n("27Lyk").resolve("gGqPL"),import.meta.url).toString();var a;a=new URL(n("27Lyk").resolve("kTOot"),import.meta.url).toString();var h;h=new URL(n("27Lyk").resolve("ho1LV"),import.meta.url).toString();var u;o=n("31xg4");u=new URL(n("27Lyk").resolve("9TvWv"),import.meta.url).toString();var l;l=new URL(n("27Lyk").resolve("frur7"),import.meta.url).toString();var c;c=new URL(n("27Lyk").resolve("i4AI5"),import.meta.url).toString();o=n("31xg4");class g extends o.Sprite{constructor(e,t){super(e),this.anchor.set(.5),this.x=t.x,this.y=t.y}}class p extends o.Sprite{drawPosition=null;drawingStarted=!1;ingredients=[];constructor(e,i,s){super(e),this.anchor.set(.5),this.width=s/2,this.height=s/2,this.position.set(i/2,s/2),this.interactive=!0,this.hitbox=new o.Circle(0,0,this.width/2);const r=e=>{const t=this.toLocal(e.data.global);t.x,t.y,this.insideBorder(t)&&(this.drawPosition=t,this.drawingStarted=!0)},n=e=>{if(this.drawingStarted){const t=this.toLocal(e.data.global);t.x,t.y,this.insideBorder(t)?this.drawPosition=t:this.drawingStarted=!1}},d=e=>{this.drawingStarted=!1};this.on("mousedown",r),this.on("touchstart",r),this.on("mousemove",n),this.on("touchmove",n),this.on("mouseup",d),this.on("touchend",d),this.loader=new o.Loader,this.loader.add("sauceTexture",t(u)),this.loader.add("cheeseTexture",t(l)),this.loader.add("onionTexture",t(c)),this.loader.load((()=>{}))}insideBorder(e){if(null!=e){const t=this.hitbox;return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)<t.radius*t.radius}}update(e,t){if(this.insideBorder(this.drawPosition)&&this.drawingStarted)if(0==t){let e=new g(this.loader.resources.sauceTexture.texture,this.drawPosition);this.addChild(e),this.ingredients.push(e)}else if(1==t){let e=new g(this.loader.resources.cheeseTexture.texture,this.drawPosition);this.addChild(e),this.ingredients.push(e)}else if(2==t){let e=new g(this.loader.resources.onionTexture.texture,this.drawPosition);this.addChild(e),this.ingredients.push(e)}}}new class{pixiCanvas=document.getElementById("pixi-canvas");resetButton=document.getElementById("reset");constructor(){this.pixi=new o.Application({width:1400,height:700}),this.pixiCanvas.appendChild(this.pixi.view),this.ingredientButtons=document.getElementsByClassName("ingredient"),this.currentIngredient=-1,this.loader=new o.Loader,this.loader.add("pizzaTexture",t(d)).add("bgm",t(a)).add("tomatosauceTexture",t(h)),this.loader.load((()=>this.loadCompleted()))}loadCompleted(){this.selectedIngredient=new o.Text("X",{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}),this.pixi.stage.addChild(this.selectedIngredient),this.tomatosauceIngredient=new o.Sprite(this.loader.resources.tomatosauceTexture.texture),this.pixi.stage.addChild(this.tomatosauceIngredient),this.pizza=new p(this.loader.resources.pizzaTexture.texture,this.pixi.screen.width,this.pixi.screen.height),this.pixi.stage.addChild(this.pizza),this.sound=this.loader.resources.bgm.data,this.sound.volume=.25,this.pixi.ticker.add((e=>this.update(e)))}resetPizza(){return!!this.resetButton.checked&&(this.resetButton.disabled=!0,!0)}toggleIngredient(){for(var e=0;e<this.ingredientButtons.length;e++)void 0!==this.oldIngredient&&this.oldIngredient!=this.currentIngredient&&(-1!=this.oldIngredient&&this.ingredientButtons[this.oldIngredient].checked&&(this.ingredientButtons[this.oldIngredient].checked=!1),this.oldIngredient=this.currentIngredient),this.ingredientButtons[e].checked&&(this.currentIngredient=e)}update(e){if(this.toggleIngredient(),-1!=this.currentIngredient?this.selectedIngredient.text=this.ingredientButtons[this.currentIngredient].name:this.selectedIngredient.text="X",this.pizza.update(e,this.currentIngredient),this.sound.play(),this.resetPizza()&&(this.pizza.y-=5*e,this.pizza.y<-600)){this.pixi.stage.removeChild(this.pizza),this.pizza=new p(this.loader.resources.pizzaTexture.texture,this.pixi.screen.width,this.pixi.screen.height),this.pixi.stage.addChild(this.pizza);for(let e=0;e<this.ingredientButtons.length;e++)this.ingredientButtons[e].checked=!1;this.currentIngredient=-1,this.resetButton.checked=!1,this.resetButton.disabled=!1}}};
//# sourceMappingURL=game.e8f02f38.js.map
