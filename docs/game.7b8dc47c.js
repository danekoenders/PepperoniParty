function e(e,t,i,n){Object.defineProperty(e,t,{get:i,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},s={},r=i.parcelRequired566;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in s){var t=s[e];delete s[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){s[e]=t},i.parcelRequired566=r),r.register("27Lyk",(function(t,i){var n,s;e(t.exports,"register",(()=>n),(e=>n=e)),e(t.exports,"resolve",(()=>s),(e=>s=e));var r={};n=function(e){for(var t=Object.keys(e),i=0;i<t.length;i++)r[t[i]]=e[t[i]]},s=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r("27Lyk").register(JSON.parse('{"8W0FK":"game.7b8dc47c.js","gGqPL":"pizza.324cd459.png","kTOot":"bgm.248cd6e4.mp3","9TvWv":"sauce.49e5da68.png","frur7":"chuckecheese.82ff617e.png","i4AI5":"onion.1ad2485a.png","ho1LV":"tomatensaus.a55210d1.png","5HVnX":"kaasbakje.9327dd10.png","dUVUO":"uienbakje.d00a4b0f.png","kM9ZK":"game.6b079b01.js"}'));var o,d=r("31xg4");o=new URL(r("27Lyk").resolve("gGqPL"),import.meta.url).toString();var a;a=new URL(r("27Lyk").resolve("kTOot"),import.meta.url).toString();var h;h=new URL(r("27Lyk").resolve("ho1LV"),import.meta.url).toString();var u;u=new URL(r("27Lyk").resolve("5HVnX"),import.meta.url).toString();var l;l=new URL(r("27Lyk").resolve("dUVUO"),import.meta.url).toString();var c;d=r("31xg4");c=new URL(r("27Lyk").resolve("9TvWv"),import.meta.url).toString();var g;g=new URL(r("27Lyk").resolve("frur7"),import.meta.url).toString();var p;p=new URL(r("27Lyk").resolve("i4AI5"),import.meta.url).toString();d=r("31xg4");class x extends d.Sprite{constructor(e,t){super(e),this.anchor.set(.5),this.x=t.x,this.y=t.y}}class m extends d.Sprite{drawPosition=null;drawingStarted=!1;ingredients=[];constructor(e,i,n){super(e),this.anchor.set(.5),this.width=n/2,this.height=n/2,this.position.set(i/2,n/2),this.interactive=!0,this.hitbox=new d.Circle(0,0,this.width/2);const s=e=>{const t=this.toLocal(e.data.global);t.x,t.y,this.insideBorder(t)&&(this.drawPosition=t,this.drawingStarted=!0)},r=e=>{if(this.drawingStarted){const t=this.toLocal(e.data.global);t.x,t.y,this.insideBorder(t)?this.drawPosition=t:this.drawingStarted=!1}},o=e=>{this.drawingStarted=!1};this.on("mousedown",s),this.on("touchstart",s),this.on("mousemove",r),this.on("touchmove",r),this.on("mouseup",o),this.on("touchend",o),this.loader=new d.Loader,this.loader.add("sauceTexture",t(c)),this.loader.add("cheeseTexture",t(g)),this.loader.add("onionTexture",t(p)),this.loader.load((()=>{}))}insideBorder(e){if(null!=e){const t=this.hitbox;return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)<t.radius*t.radius}}update(e,t){if(this.insideBorder(this.drawPosition)&&this.drawingStarted)if(0==t){let e=new x(this.loader.resources.sauceTexture.texture,this.drawPosition);this.addChild(e),this.ingredients.push(e)}else if(1==t){let e=new x(this.loader.resources.cheeseTexture.texture,this.drawPosition);this.addChild(e),this.ingredients.push(e)}else if(2==t){let e=new x(this.loader.resources.onionTexture.texture,this.drawPosition);this.addChild(e),this.ingredients.push(e)}}}new class{pixiCanvas=document.getElementById("pixi-canvas");resetButton=document.getElementById("reset");constructor(){this.pixi=new d.Application({width:1400,height:700}),this.pixiCanvas.appendChild(this.pixi.view),this.ingredientButtons=document.getElementsByClassName("ingredient"),this.currentIngredient=-1,this.loader=new d.Loader,this.loader.add("pizzaTexture",t(o)).add("bgm",t(a)).add("tomatosauceTexture",t(h)).add("cheeseTexture",t(u)).add("unionTexture",t(l)),this.loader.load((()=>this.loadCompleted()))}loadCompleted(){this.selectedIngredient=new d.Text("X",{fontFamily:"Arial",fontSize:24,fill:16715792,align:"center"}),this.pixi.stage.addChild(this.selectedIngredient),this.tomatosauceIngredient=new d.Sprite(this.loader.resources.tomatosauceTexture.texture),this.pixi.stage.addChild(this.tomatosauceIngredient),this.cheeseIngredient=new d.Sprite(this.loader.resources.cheeseTexture.texture),this.pixi.stage.addChild(this.cheeseIngredient),this.unionIngredient=new d.Sprite(this.loader.resources.unionTexture.texture),this.pixi.stage.addChild(this.unionIngredient),this.tomatosauceIngredient.scale.x=.5,this.tomatosauceIngredient.scale.y=.5,this.tomatosauceIngredient.x=1200,this.tomatosauceIngredient.interactive=!0,this.tomatosauceIngredient.buttonMode=!0,this.tomatosauceIngredient.on("pointerdown",(()=>this.toggleIngredient("tomatosauce"))),this.cheeseIngredient.scale.x=.5,this.cheeseIngredient.scale.y=.5,this.cheeseIngredient.x=1200,this.cheeseIngredient.y=124,this.cheeseIngredient.interactive=!0,this.cheeseIngredient.buttonMode=!0,this.cheeseIngredient.on("pointerdown",(()=>this.toggleIngredient("cheese"))),this.unionIngredient.scale.x=.5,this.unionIngredient.scale.y=.5,this.unionIngredient.x=1200,this.unionIngredient.y=248,this.unionIngredient.interactive=!0,this.unionIngredient.buttonMode=!0,this.unionIngredient.on("pointerdown",(()=>this.toggleIngredient("union"))),this.pizza=new m(this.loader.resources.pizzaTexture.texture,this.pixi.screen.width,this.pixi.screen.height),this.pixi.stage.addChild(this.pizza),this.sound=this.loader.resources.bgm.data,this.sound.volume=.25,this.pixi.ticker.add((e=>this.update(e)))}resetPizza(){return!!this.resetButton.checked&&(this.resetButton.disabled=!0,!0)}toggleIngredient(e){"tomatosauce"===e?this.currentIngredient=0:"cheese"===e?this.currentIngredient=1:"union"===e&&(this.currentIngredient=2)}update(e){if(-1!=this.currentIngredient?this.selectedIngredient.text=this.ingredientButtons[this.currentIngredient].name:this.selectedIngredient.text="X",this.pizza.update(e,this.currentIngredient),this.sound.play(),this.resetPizza()&&(this.pizza.y-=5*e,this.pizza.y<-600)){this.pixi.stage.removeChild(this.pizza),this.pizza=new m(this.loader.resources.pizzaTexture.texture,this.pixi.screen.width,this.pixi.screen.height),this.pixi.stage.addChild(this.pizza);for(let e=0;e<this.ingredientButtons.length;e++)this.ingredientButtons[e].checked=!1;this.currentIngredient=-1,this.resetButton.checked=!1,this.resetButton.disabled=!1}}};
//# sourceMappingURL=game.7b8dc47c.js.map
